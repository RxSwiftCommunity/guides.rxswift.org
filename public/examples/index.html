<!DOCTYPE html>


<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="alternate" href="/index.xml" type="application/rss+xml" title="RxSwift">
		<link rel="icon" href="http://localhost:1313//favicon.ico">
		<title>Examples - RxSwift</title>
		
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
		<link href='https://fonts.googleapis.com/css?family=Rubik:400,300,500|Inconsolata' rel='stylesheet' type='text/css'>

		<link rel="stylesheet" href="http://localhost:1313//css/highlight.js.min.css">
		<link rel="stylesheet" href="http://localhost:1313//css/xcode.css">
		<link rel="stylesheet" href="http://localhost:1313//css/bootstrap.min.css">
		<link rel="stylesheet" href="http://localhost:1313//css/bootstrap-theme.css">
		<link rel="stylesheet" href="http://localhost:1313//css/theme.css">
		<link rel="stylesheet" href="http://localhost:1313//css/style.css">
	</head>

<body role="document">

	
	<nav class="navbar navbar-inverse navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="http://localhost:1313//">RxSwift</a>
			</div>
			<div id="navbar" class="navbar-collapse collapse">
				<ul class="nav navbar-nav">
					<li ><a href="http://localhost:1313//">Home</a></li>
			
				
				</ul>
			</div>
		</div>
	</nav>
<div class="container">

	<div class="row">
		<div class="col-sm-8 doc-main">
			<main role="main">
				<article>
					<h1 class="doc-entry-title">Examples</h1>
					<section>
						

<h2 id="calculated-variable:9ecc00cd7c4c5bc9e8febc4fe00186bf">Calculated variable</h2>

<p>Let&rsquo;s first start with some imperative swift code.
The purpose of example is to bind identifier <code>c</code> to a value calculated from <code>a</code> and <code>b</code> if some condition is satisfied.</p>

<p>Here is the imperative swift code that calculates the value of <code>c</code>:</p>

<pre><code class="language-swift">// this is usual imperative code
var c: String
var a = 1       // this will only assign value `1` to `a` once
var b = 2       // this will only assign value `2` to `b` once

if a + b &gt;= 0 {
    c = &quot;\(a + b) is positive&quot; // this will only assign value to `c` once
}
</code></pre>

<p>The value of <code>c</code> is now <code>3 is positive</code>. But if we change the value of <code>a</code> to <code>4</code>, <code>c</code> will still contain the old value.</p>

<pre><code class="language-swift">a = 4           // c will still be equal &quot;3 is positive&quot; which is not good
                // c should be equal to &quot;6 is positive&quot; because 4 + 2 = 6
</code></pre>

<p>This is not the wanted behavior.</p>

<p>To integrate RxSwift framework into your project just include framework in your project and write <code>import RxSwit</code>.</p>

<p>This is the same logic using RxSwift.</p>

<pre><code class="language-swift">let a /*: Observable&lt;Int&gt;*/ = Variable(1)   // a = 1
let b /*: Observable&lt;Int&gt;*/ = Variable(2)   // b = 2

// This will &quot;bind&quot; rx variable `c` to definition
// if a + b &gt;= 0 {
//      c = &quot;\(a + b) is positive&quot;
// }
let c = combineLatest(a, b) { $0 + $1 }     // combines latest values of variables `a` and `b` using `+`
    .filter { $0 &gt;= 0 }               // if `a + b &gt;= 0` is true, `a + b` is passed to map operator
    .map { &quot;\($0) is positive&quot; }      // maps `a + b` to &quot;\(a + b) is positive&quot;

// Since initial values are a = 1, b = 2
// 1 + 2 = 3 which is &gt;= 0, `c` is intially equal to &quot;3 is positive&quot;

// To pull values out of rx variable `c`, subscribe to values from  `c`.
// `subscribeNext` means subscribe to next (fresh) values of variable `c`.
// That also includes the inital value &quot;3 is positive&quot;.
c.subscribeNext { print($0) }          // prints: &quot;3 is positive&quot;

// Now let's increase the value of `a`
// a = 4 is in RxSwift
a.next(4)                                   // prints: 6 is positive
// Sum of latest values is now `4 + 2`, `6` is &gt;= 0, map operator
// produces &quot;6 is positive&quot; and that result is &quot;assigned&quot; to `c`.
// Since the value of `c` changed, `{ print($0) }` will get called,
// and &quot;6 is positive&quot; is printed.

// Now let's change the value of `b`
// b = -8 is in RxSwift
b.next(-8)                                  // doesn't print anything
// Sum of latest values is `4 + (-8)`, `-4` is not &gt;= 0, map doesn't
// get executed.
// That means that `c` still contains &quot;6 is positive&quot; and that's correct.
// Since `c` hasn't been updated, that means next value hasn't been produced,
// and `{ print($0) }` won't be called.

// ...
</code></pre>

<h2 id="simple-ui-bindings:9ecc00cd7c4c5bc9e8febc4fe00186bf">Simple UI bindings</h2>

<ul>
<li>instead of binding to variables, let&rsquo;s bind to text field values (rx_text)</li>
<li>next, parse that into an int and calculate if the number is prime using an async API (map)</li>
<li>if text field value is changed before async call completes, new async call will be enqueued (concat)</li>
<li>bind results to label (resultLabel.rx_subscribeTextTo)</li>
</ul>

<pre><code class="language-swift">let subscription/*: Disposable */ = primeTextField.rx_text      // type is Observable&lt;String&gt;
            .map { WolframAlphaIsPrime($0.toInt() ?? 0) }       // type is Observable&lt;Observable&lt;Prime&gt;&gt;
            .concat()                                           // type is Observable&lt;Prime&gt;
            .map { &quot;number \($0.n) is prime? \($0.isPrime)&quot; }   // type is Observable&lt;String&gt;
            .bindTo(resultLabel.rx_text)                        // return Disposable that can be used to unbind everything

// This will set resultLabel.text to &quot;number 43 is prime? true&quot; after
// server call completes.
primeTextField.text = &quot;43&quot;

// ...

// to unbind everything, just call
subscription.dispose()
</code></pre>

<p>All of the operators used in this example are the same operators used in the first example with variables. Nothing special about it.</p>

<h2 id="autocomplete:9ecc00cd7c4c5bc9e8febc4fe00186bf">Autocomplete</h2>

<p>If you are new to Rx, next example will probably be a little overwhelming, but it&rsquo;s here to demonstrate how RxSwift code looks like in real world examples.</p>

<p>The third example is a real world, complex UI async validation logic, with progress notifications.
All operations are cancelled the moment <code>disposeBag</code> is deallocated.</p>

<p>Let&rsquo;s give it a shot.</p>

<pre><code class="language-swift">// bind UI control values directly
// use username from `usernameOutlet` as username values source
self.usernameOutlet.rx_text
    .map { username in

        // synchronous validation, nothing special here
        if count(username) == 0 {
            // Convenience for constructing synchronous result.
            // In case there is mixed synchronous and asychronous code inside the same
            // method, this will construct an async result that is resolved immediatelly.
            return returnElement((valid: false, message: &quot;Username can't be empty.&quot;))
        }

        ...

        // Every user interface probably shows some state while async operation
        // is executing.
        // Let's assume that we want to show &quot;Checking availability&quot; while waiting for result.
        // valid parameter can be
        //  * true  - is valid
        //  * false - not valid
        //  * nil   - validation pending
        let loadingValue = (valid: nil, message: &quot;Checking availability ...&quot;)

        // This will fire a server call to check if the username already exists.
        // Guess what, its type is `Observable&lt;ValidationResult&gt;`
        return API.usernameAvailable(username)
          .map { available in
              if available {
                  return (true, &quot;Username available&quot;)
              }
              else {
                  return (false, &quot;Username already taken&quot;)
              }
          }
          // use `loadingValue` until server responds
          .startWith(loadingValue)
    }
// Since we now have `Observable&lt;Observable&lt;ValidationResult&gt;&gt;`
// we somehow need to return to normal `Observable` world.
// We could use `concat` operator from second example, but we really
// want to cancel pending asynchronous operation if new username is
// provided.
// That's what `switchLatest` does
    .switchLatest()
// Now we need to bind that to the user interface somehow.
// Good old `subscribeNext` can do that
// That's the end of `Observable` chain.
// This will produce a `Disposable` object that can unbind everything and cancel
// pending async operations.
    .subscribeNext { valid in
        errorLabel.textColor = validationColor(valid)
        errorLabel.text = valid.message
    }
// Why would we do it manually, that's tedious,
// let's dispose everything automagically on view controller dealloc.
    .addDisposableTo(disposeBag)
</code></pre>

<p>Can&rsquo;t get any simpler than this. There are <a href="../RxExample">more examples</a> in the repository, so feel free to check them out.</p>

<p>They include examples on how to use it in the context of MVVM pattern or without it.</p>

					</section>
				</article>
			</main>
		</div> 

		
<div class="col-sm-3 col-sm-offset-1 doc-sidebar">
	<div class="sidebar-module">
		<div class="sidebar-toc">
			<h4>Table of Contents</h4>
			<ul>
				<li><strong><a href="#title">Examples</a></strong></li>
			</ul>
			<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#calculated-variable:9ecc00cd7c4c5bc9e8febc4fe00186bf">Calculated variable</a></li>
<li><a href="#simple-ui-bindings:9ecc00cd7c4c5bc9e8febc4fe00186bf">Simple UI bindings</a></li>
<li><a href="#autocomplete:9ecc00cd7c4c5bc9e8febc4fe00186bf">Autocomplete</a></li>
</ul></li>
</ul>
</nav>
		</div>
	</div>
	<div class="sidebar-module">
		<h4>Tags</h4>
		<div class="tag-box">
		
			<a class="tag-item" href="http://localhost:1313//tags/carthage">carthage</a>
		
			<a class="tag-item" href="http://localhost:1313//tags/cocoapods">cocoapods</a>
		
			<a class="tag-item" href="http://localhost:1313//tags/documentation">documentation</a>
		
			<a class="tag-item" href="http://localhost:1313//tags/examples">examples</a>
		
			<a class="tag-item" href="http://localhost:1313//tags/guide">guide</a>
		
			<a class="tag-item" href="http://localhost:1313//tags/introduction">introduction</a>
		
			<a class="tag-item" href="http://localhost:1313//tags/observables">observables</a>
		
			<a class="tag-item" href="http://localhost:1313//tags/project">project</a>
		
			<a class="tag-item" href="http://localhost:1313//tags/xcode">xcode</a>
		
		</div>
	</div>
</div>

	</div> 



</div> 


<footer class="text-center">
    <div class="footer-above">
        <div class="container">
            <div class="row">
                <div class="footer-col col-md-4">
                    <h3>ReactiveX</h3>
                    <p>We are part of the <a href="http://reactivex.io">ReactiveX</a> family.</p>
                </div>
                <div class="footer-col col-md-4">
                    <h3>Around the Web</h3>
                    <ul class="list-inline">
                        <li>
                            <a href="https://github.com/ReactiveX/RxSwift" class="btn-social btn-outline" target="_blank"><i class="fa fa-fw fa-github"></i></a>
                        </li>
                        <li>
                            <a href="http://slack.rxswift.org" class="btn-social btn-outline" target="_blank"><i class="fa fa-fw fa-slack"></i></a>
                        </li>
                        <li>
                            <a href="https://twitter.com/rxswiftlang" class="btn-social btn-outline" target="_blank"><i class="fa fa-fw fa-twitter"></i></a>
                        </li>
                    </ul>
                </div>
                <div class="footer-col col-md-4">
                    <h3>The Project</h3>
                    <p>RxSwift is a project of <a href="https://twitter.com/krunoslavzaher" target="_blank">Krunoslav Zaher</a> supported by many contributors.</p>
                </div>
            </div>
        </div>
    </div>
    <div class="footer-below">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    	
						
						<p class="powered">Powered by <a href="http://gohugo.io/">Hugo</a>.</p>
                </div>
            </div>
        </div>
    </div>
</footer>


<div class="scroll-top page-scroll visible-xs visible-sm">
    <a class="btn btn-primary" href="#page-top">
        <i class="fa fa-chevron-up"></i>
    </a>
</div>

<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-48560610-8', 'auto');
	ga('send', 'pageview');
</script>

<script src="http://localhost:1313//js/jquery-1.11.2.min.js"></script>
<script src="http://localhost:1313//js/bootstrap.min.js"></script>
<script src="http://localhost:1313//js/retina.min.js"></script>

<script src="http://localhost:1313//js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script src="http://localhost:1313//js/ie10-viewport-bug-workaround.js"></script>

<script data-no-instant>document.write('<script src="http://'
        + (location.host || 'localhost').split(':')[0]
		+ ':1313/livereload.js?mindelay=10"></'
        + 'script>')</script></body>
</html>